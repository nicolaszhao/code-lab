<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>CSS3 3D Animation</title>
		<link rel="stylesheet" href="theme/css3-3d.css" />
		<script src="js/jquery-1.11.1.js"></script>
		<script>
			$(function() {
				var anim = function() {
					var $stateContainer = $('.stage-container'),
						index = 0,
						len = $stateContainer.length,
						
						anim = {
							start: function() {
								$stateContainer.eq(0).addClass('stage-state-in');
							},
							
							prev: function() {
								if (index - 1 < 0) {
									return;
								}
								
								$stateContainer.eq(index).removeClass('stage-state-in');
								
								$stateContainer.eq(--index).removeClass('stage-state-out')
									.addClass('stage-state-in');
							},
							
							next: function() {
								if (index + 1 > len - 1) {
									return;
								}

								$stateContainer.eq(index).removeClass('stage-state-in')
									.addClass('stage-state-out');
									
								$stateContainer.eq(++index).addClass('stage-state-in');
							}
						};
					
					return anim;
				};
				
				var action = anim();
				
				action.start();
				
				$('.buttons').on('click', '.button-prev', function(event) {
					event.preventDefault();
					action.prev();
				}).on('click', '.button-next', function(event) {
					event.preventDefault();
					action.next();
				});
			});
		</script>
	</head>
	<body>
		<div class="stage">
			<div id="stage-container-1" class="stage-container">
				<div class="solid-box-wrapper">
					<div class="solid-box">
						<div class="solid-box-side solid-box-front"></div>
						<div class="solid-box-side solid-box-back"></div>
						<div class="solid-box-side solid-box-top"></div>
						<div class="solid-box-side solid-box-bottom"></div>
						<div class="solid-box-side solid-box-left"></div>
						<div class="solid-box-side solid-box-right"></div>
					</div>
				</div>
				<div class="rotary-plate rotary-plate-1">
					<span class="rotary-plate-core"></span>
				</div>
				<div class="rotary-plate rotary-plate-2">
					<span class="rotary-plate-core"></span>
				</div>
			</div>
			<div id="stage-container-2" class="stage-container">
				<div class="rotary-plate-mini-pipe">
					<div class="rotary-plate-mini rotary-plate-mini-left"></div>
					<div class="rotary-plate-mini rotary-plate-mini-center"></div>
					<div class="rotary-plate-mini rotary-plate-mini-right"></div>
				</div>
			</div>
		</div>
		<div class="buttons">
			<a class="button-prev" href="">&lt;</a>
			<a class="button-next" href="">&gt;</a>
		</div>
	</body>
</html>